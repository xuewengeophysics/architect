# 检测计算图中的环

## 1. 方法

### 1.1 SCC方法

1. 检测是否有SCC 并且节点大于1；
2. 是否有自循环的节点；

### 1.2 出度入度法

1. 初始化各个顶点的出度(或者入度也行，本文以出度为例)；
2. 移除出度为0的顶点和与此顶点相连的边；
3. 更新出度；
4. 重复步骤2和3，直到不存在出度为0的顶点(或者顶点已经全部被移除了)；
5. 判断是否存在剩余顶点，若存在则有环，不存在则无环。



## 参考资料

1. [nnet-graph](https://github.com/kaldi-asr/kaldi/blob/master/src/nnet3/nnet-graph.cc)